<!--pages/Post/uploadExpress/uploadExpress.wxml-->
<cu-custom bgColor="bg-gradual-blue" isBack="{{true}}">
	<view slot="backText">返回</view>
	<view slot="content">发布快递</view>
</cu-custom>
<view class="page">
  <form bindsubmit='uploadPost'>

    <!--快递件数-->
    <view class='sell_cells'>
      <view class="sell_cell">
        <text class="sell_title">快递件数</text>
        <picker name="goods_num" style="flex:1;display:flex;justify-content:flex-end" bindchange="bindNumChange" value="{{num_index}}" range="{{nums}}">
          <text class="sell_select">{{nums[num_index]}}</text>
        </picker>
      </view>
    <!---->

    <!--标题和描述-->
      <view class="sell_cell" style="border-bottom:1px solid #e2e2e2">
        <text class="sell_title">标题</text>
        <input name="post_title" class="sell_input" placeholder="请输入您的商品名称（不超过15个字）" placeholder-class='placeholder' maxlength='15' />
      </view>

      <view class="sell_cell" style="align-items: flex-start">
        <text class="sell_title">描述</text>
        <textarea name="goods_content" class="sell_input" placeholder="请简要的描述一下您的商品，新旧程度、出售原因等（文字不超过140个字，附图不超过3张）" placeholder-class='placeholder' maxlength='140' bindinput='bindInput'></textarea>
      </view>

      <!--字数提示，超过130字变红-->
      <view class="sell_cell" style="justify-content:flex-end">
        <view wx:if="{{inputLength>130}}">
          <text class="sell_hint_text">{{inputLength}}</text>
          <text class="sell_text">/140</text>
        </view>
        <view wx:else>
          <text class="sell_text">{{inputLength}}/140</text>
        </view>
      </view>
      <!---->

      <!--上传图片-->
      <view class="sell-cell_uploader">
        <view class="sell_uploader_imgbox" wx:for="{{images}}" wx:key="*this">
          <image class="sell_uploader_img" src="{{item}}"  data-index="{{index}}" bindtap="handleImagePreview" mode="aspectFill" ></image>
          <image class="sell_uploader_img_del" bindtap="removeImage" data-index="{{index}}" src="/images/x.png"/>
        </view>
        <view class="sell_uploader_box">
          <view class="sell_uploader_input" bindtap="chooseImage"></view>
        </view>
        
      </view>
      <!---->
    <!---->

    <!--总重量-->
      <view class="sell_cell">
        <text class="sell_title">总重量</text>
        <picker name="goods_weight" style="flex:1;display:flex;justify-content:flex-end" bindchange="bindWeightChange" value="{{weight_index}}" range="{{weights}}">
          <text class="sell_select">{{weights[weight_index]}}</text>
        </picker>
      </view>
    <!---->

    <!--酬金-->
      <view class="sell_cell" style="border-bottom:1px solid #e2e2e2">
        <text class="sell_title">酬金</text>
        <input name="goods_price" class="sell_input price" type="number" placeholder="￥0.00" placeholder-class='placeholder' maxlength='5' />
        <button>?</button>
      </view>
    <!---->

    <!--取件地址-->
      <view class="sell_cell">
        <text class="sell_title">取件地址</text>
        <picker name="goods_take" style="flex:1;display:flex;justify-content:flex-end" bindchange="bindTakeChange" value="{{take_index}}" range="{{takes}}">
          <text class="sell_select">{{takes[take_index]}}</text>
        </picker>
      </view>
    <!---->

    <!--收件地址-->
      <view class="sell_cell">
        <text class="sell_title">收件地址</text>
        <picker mode="multiSelector" name="goods_bring" style="flex:1;display:flex;justify-content:flex-end" bindchange="bindBringChange" bindcolumnchange="ColumnBringChange" value="{{bring_index}}" range="{{brings}}">
          <text class="sell_select">{{brings[0][bring_index[0]]}},{{brings[1][bring_index[1]]}}</text>
        </picker>
      </view>
    <!---->

      <view class="sell_cell" style="border-bottom:1px solid #e2e2e2">
        <text class="sell_title">详细地址</text>
        <input name="bring_detail" class="sell_input" placeholder="请输入您的收件详细（不超过15个字）" placeholder-class='placeholder' maxlength='15' />
      </view>

      <view class="sell_cell" style="border-bottom:1px solid #e2e2e2">
        <text class="sell_title">送达时间</text>
        <picker mode="time" value="{{time}}" start="09:01" end="21:01" bindchange="TimeChange">
          <view class="picker">
            {{time}}
          </view>
        </picker>
        <text>至</text>
        <picker mode="time" value="{{time}}" start="09:01" end="21:01" bindchange="TimeChange">
          <view class="picker">
            {{time}}
          </view>
        </picker>
      </view>
    </view>

    <button class="sell_btn" form-type='submit'>确认发布</button>
  </form>
</view>
